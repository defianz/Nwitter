{"ast":null,"code":"import _objectSpread from\"/Users/salmon/GitSpace/study/React/nwitter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/salmon/GitSpace/study/React/nwitter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Nweet from\"components/Nweet\";import NweetFactory from\"components/NweetFactory\";import{dbService}from\"fbase\";import React,{useEffect,useState}from\"react\";// export default () => <Span>Home</Span>;\nvar Home=function Home(_ref){var userObj=_ref.userObj;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),nweets=_useState2[0],setNweets=_useState2[1];//   const getNweets = async () => {\n//     const dbNweets = await dbService.collection(\"nweets\").get();\n//     dbNweets.forEach((document) => {\n//       const nweetObject = {\n//         ...document.data(),\n//         id: document.id,\n//       };\n//       setNweets((prev) => [nweetObject, ...prev]);\n//     });\n//   };\nuseEffect(function(){// getNweets();\ndbService.collection(\"nweets\").onSnapshot(function(snapshot){var nweetArray=snapshot.docs.map(function(doc){return _objectSpread({id:doc.id},doc.data());});setNweets(nweetArray);});},[]);return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(NweetFactory,{userObj:userObj}),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:30}},nweets.map(function(nweet){return/*#__PURE__*/React.createElement(Nweet,{key:nweet.id,nweetObj:nweet,isOwner:nweet.creatorId===userObj.uid});})));};export default Home;","map":{"version":3,"sources":["/Users/salmon/GitSpace/study/React/nwitter/src/routes/Home.js"],"names":["Nweet","NweetFactory","dbService","React","useEffect","useState","Home","userObj","nweets","setNweets","collection","onSnapshot","snapshot","nweetArray","docs","map","doc","id","data","marginTop","nweet","creatorId","uid"],"mappings":"iUAAA,MAAOA,CAAAA,KAAP,KAAkB,kBAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,yBAAzB,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA;AAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,eACAF,QAAQ,CAAC,EAAD,CADR,wCACrBG,MADqB,eACbC,SADa,eAG5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAL,SAAS,CAAC,UAAM,CACd;AACAF,SAAS,CAACQ,UAAV,CAAqB,QAArB,EAA+BC,UAA/B,CAA0C,SAACC,QAAD,CAAc,CACtD,GAAMC,CAAAA,UAAU,CAAGD,QAAQ,CAACE,IAAT,CAAcC,GAAd,CAAkB,SAACC,GAAD,wBACnCC,EAAE,CAAED,GAAG,CAACC,EAD2B,EAEhCD,GAAG,CAACE,IAAJ,EAFgC,GAAlB,CAAnB,CAIAT,SAAS,CAACI,UAAD,CAAT,CACD,CAND,EAOD,CATQ,CASN,EATM,CAAT,CAWA,mBACE,2BAAK,SAAS,CAAC,WAAf,eACE,oBAAC,YAAD,EAAc,OAAO,CAAEN,OAAvB,EADF,cAEE,2BAAK,KAAK,CAAE,CAAEY,SAAS,CAAE,EAAb,CAAZ,EACGX,MAAM,CAACO,GAAP,CAAW,SAACK,KAAD,qBACV,oBAAC,KAAD,EACE,GAAG,CAAEA,KAAK,CAACH,EADb,CAEE,QAAQ,CAAEG,KAFZ,CAGE,OAAO,CAAEA,KAAK,CAACC,SAAN,GAAoBd,OAAO,CAACe,GAHvC,EADU,EAAX,CADH,CAFF,CADF,CAcD,CAvCD,CAyCA,cAAehB,CAAAA,IAAf","sourcesContent":["import Nweet from \"components/Nweet\";\nimport NweetFactory from \"components/NweetFactory\";\nimport { dbService } from \"fbase\";\nimport React, { useEffect, useState } from \"react\";\n\n// export default () => <Span>Home</Span>;\n\nconst Home = ({ userObj }) => {\n  const [nweets, setNweets] = useState([]);\n\n  //   const getNweets = async () => {\n  //     const dbNweets = await dbService.collection(\"nweets\").get();\n  //     dbNweets.forEach((document) => {\n  //       const nweetObject = {\n  //         ...document.data(),\n  //         id: document.id,\n  //       };\n  //       setNweets((prev) => [nweetObject, ...prev]);\n  //     });\n  //   };\n\n  useEffect(() => {\n    // getNweets();\n    dbService.collection(\"nweets\").onSnapshot((snapshot) => {\n      const nweetArray = snapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n      }));\n      setNweets(nweetArray);\n    });\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <NweetFactory userObj={userObj} />\n      <div style={{ marginTop: 30 }}>\n        {nweets.map((nweet) => (\n          <Nweet\n            key={nweet.id}\n            nweetObj={nweet}\n            isOwner={nweet.creatorId === userObj.uid}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}