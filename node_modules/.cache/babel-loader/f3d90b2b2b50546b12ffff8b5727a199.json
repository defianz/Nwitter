{"ast":null,"code":"import _slicedToArray from\"/Users/salmon/GitSpace/study/React/nwitter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import AppRouter from\"components/Router.js\";import{authService}from\"fbase\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),init=_useState2[0],setInit=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),userObj=_useState4[0],setUserObj=_useState4[1];useEffect(function(){authService.onAuthStateChanged(function(user){if(user){setUserObj(user);// setUserObj({\n//   displayName: user.displayName,\n//   uid: user.uid,\n//   updateProfile: (args) => user.updateProfile(args),\n// });\n}else{setUserObj(null);}setInit(true);});},[]);var refreshUser=function refreshUser(){var user=authService.currentUser;setUserObj(Object.assign({},user));// setUserObj({\n//   displayName: user.displayName,\n//   uid: user.uid,\n//   updateProfile: (args) => user.updateProfile(args),\n// });\n};return/*#__PURE__*/React.createElement(React.Fragment,null,init?/*#__PURE__*/React.createElement(AppRouter,{refreshUser:refreshUser,isLoggedIn:Boolean(userObj),userObj:userObj}):\"initializing...\",/*#__PURE__*/React.createElement(\"div\",{style:{width:\"100%\",position:\"fixed\",textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"footer\",null,\"\\xA9 \",new Date().getFullYear(),\" Defian Nwitter\")));}export default App;","map":{"version":3,"sources":["/Users/salmon/GitSpace/study/React/nwitter/src/components/App.js"],"names":["React","useEffect","useState","AppRouter","authService","App","init","setInit","userObj","setUserObj","onAuthStateChanged","user","refreshUser","currentUser","Object","assign","Boolean","width","position","textAlign","Date","getFullYear"],"mappings":"iKAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,SAAP,KAAsB,sBAAtB,CACA,OAASC,WAAT,KAA4B,OAA5B,CAEA,QAASC,CAAAA,GAAT,EAAe,eACWH,QAAQ,CAAC,KAAD,CADnB,wCACNI,IADM,eACAC,OADA,8BAEiBL,QAAQ,CAAC,IAAD,CAFzB,yCAENM,OAFM,eAEGC,UAFH,eAIbR,SAAS,CAAC,UAAM,CACdG,WAAW,CAACM,kBAAZ,CAA+B,SAACC,IAAD,CAAU,CACvC,GAAIA,IAAJ,CAAU,CACRF,UAAU,CAACE,IAAD,CAAV,CACA;AACA;AACA;AACA;AACA;AACD,CAPD,IAOO,CACLF,UAAU,CAAC,IAAD,CAAV,CACD,CACDF,OAAO,CAAC,IAAD,CAAP,CACD,CAZD,EAaD,CAdQ,CAcN,EAdM,CAAT,CAeA,GAAMK,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAMD,CAAAA,IAAI,CAAGP,WAAW,CAACS,WAAzB,CACAJ,UAAU,CAACK,MAAM,CAACC,MAAP,CAAc,EAAd,CAAkBJ,IAAlB,CAAD,CAAV,CACA;AACA;AACA;AACA;AACA;AACD,CARD,CASA,mBACE,wCACGL,IAAI,cACH,oBAAC,SAAD,EACE,WAAW,CAAEM,WADf,CAEE,UAAU,CAAEI,OAAO,CAACR,OAAD,CAFrB,CAGE,OAAO,CAAEA,OAHX,EADG,CAOH,iBARJ,cAUE,2BAAK,KAAK,CAAE,CAAES,KAAK,CAAE,MAAT,CAAiBC,QAAQ,CAAE,OAA3B,CAAoCC,SAAS,CAAE,QAA/C,CAAZ,eACE,0CAAgB,GAAIC,CAAAA,IAAJ,GAAWC,WAAX,EAAhB,mBADF,CAVF,CADF,CAgBD,CAED,cAAehB,CAAAA,GAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport AppRouter from \"components/Router.js\";\nimport { authService } from \"fbase\";\n\nfunction App() {\n  const [init, setInit] = useState(false);\n  const [userObj, setUserObj] = useState(null);\n\n  useEffect(() => {\n    authService.onAuthStateChanged((user) => {\n      if (user) {\n        setUserObj(user);\n        // setUserObj({\n        //   displayName: user.displayName,\n        //   uid: user.uid,\n        //   updateProfile: (args) => user.updateProfile(args),\n        // });\n      } else {\n        setUserObj(null);\n      }\n      setInit(true);\n    });\n  }, []);\n  const refreshUser = () => {\n    const user = authService.currentUser;\n    setUserObj(Object.assign({}, user));\n    // setUserObj({\n    //   displayName: user.displayName,\n    //   uid: user.uid,\n    //   updateProfile: (args) => user.updateProfile(args),\n    // });\n  };\n  return (\n    <>\n      {init ? (\n        <AppRouter\n          refreshUser={refreshUser}\n          isLoggedIn={Boolean(userObj)}\n          userObj={userObj}\n        />\n      ) : (\n        \"initializing...\"\n      )}\n      <div style={{ width: \"100%\", position: \"fixed\", textAlign: \"center\" }}>\n        <footer>&copy; {new Date().getFullYear()} Defian Nwitter</footer>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}